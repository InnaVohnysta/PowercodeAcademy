(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".preloader").style.display="none"}));class e{#e;#t='<div class="itc-modal-backdrop"><div class="itc-modal-content"><div class="itc-modal-header"><div class="itc-modal-title">{{title}}</div><span class="itc-modal-btn-close" title="Закрыть">×</span></div><div class="itc-modal-body">{{content}}</div>{{footer}}</div></div>';#i='<div class="itc-modal-footer">{{buttons}}</div>';#s='<button type="button" class="{{class}}" data-action={{action}}>{{text}}</button>';#a=new Event("show.itc.modal",{bubbles:!0});#l=new Event("hide.itc.modal",{bubbles:!0});#n=!1;constructor(e=[]){this.#e=document.createElement("div"),this.#e.classList.add("itc-modal");let t=this.#t.replace("{{title}}",e.title||"Новое окно");t=t.replace("{{content}}",e.content||"");const i=(e.footerButtons||[]).map((e=>{let t=this.#s.replace("{{class}}",e.class);return t=t.replace("{{action}}",e.action),t.replace("{{text}}",e.text)})),s=i.length?this.#i.replace("{{buttons}}",i.join("")):"";t=t.replace("{{footer}}",s),this.#e.innerHTML=t,document.body.append(this.#e),this.#e.addEventListener("click",this.#d.bind(this))}#d(e){(e.target.closest(".itc-modal-btn-close")||e.target.classList.contains("itc-modal-backdrop"))&&this.hide()}show(){this.#n||(this.#e.classList.add("itc-modal-show"),this.#e.dispatchEvent(this.#a))}hide(){this.#e.classList.remove("itc-modal-show"),this.#e.dispatchEvent(this.#l)}dispose(){this.#e.remove(this.#e),this.#e.removeEventListener("click",this.#d),this.#n=!0}setBody(e){this.#e.querySelector(".itc-modal-body").innerHTML=e}setTitle(e){this.#e.querySelector(".itc-modal-title").innerHTML=e}}document.addEventListener("DOMContentLoaded",(function(){let t=document.querySelector("#myForm"),i=document.querySelector("#name"),s=document.getElementById("email"),a=document.querySelector("#phone"),l=document.querySelector("#phone-format"),n=document.querySelector("#dropdown-container"),d=window.intlTelInput(a,{separateDialCode:!0,initialCountry:"ua",dropdownContainer:n,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js",mobile:!1});function o(){let e=s.value;return/^[a-z0-9_-]+(\.[a-z0-9_-]+)*@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/i.test(e)}function c(){let e=a.value;return new RegExp(a.getAttribute("pattern")).test(e)}function r(t,i){new e({title:t,content:i,buttons:[{text:"Закрыть",closeOnClick:!0}]}).show()}i.addEventListener("blur",(function(){""===i.value.trim()?i.classList.add("invalid"):(i.classList.remove("invalid"),i.classList.add("valid"))})),s.addEventListener("blur",(function(){o()?(s.classList.remove("invalid"),s.classList.add("valid")):s.classList.add("invalid")})),a.addEventListener("blur",(function(){c()?(a.classList.remove("invalid"),a.classList.add("valid")):a.classList.add("invalid")})),a.addEventListener("countrychange",(function(){let e=d.getSelectedCountryData();if(e&&e.dialCode){let e=d.getNumberType().exampleNumber;l.textContent="Формат номера: "+e}})),a.addEventListener("countrychange",(function(){let e="^"+a.getAttribute("placeholder").replace(/\s+/g,"").replace(/\D/g,"").replace(/(\d)/g,"\\d")+"$";a.setAttribute("pattern",e)})),t.addEventListener("submit",(function(e){if(e.preventDefault(),function(){let e=!0;return""===i.value.trim()?(i.classList.add("invalid"),e=!1):(i.classList.remove("invalid"),i.classList.add("valid")),""===s.value.trim()?(s.classList.add("invalid"),e=!1):(s.classList.remove("invalid"),s.classList.add("valid")),""===a.value.trim()?(a.classList.add("invalid"),e=!1):(a.classList.remove("invalid"),a.classList.add("valid")),o()?(s.classList.remove("invalid"),s.classList.add("valid")):(s.classList.add("invalid"),e=!1),c()?(a.classList.remove("invalid"),a.classList.add("valid")):(a.classList.add("invalid"),e=!1),e}()){var l=new FormData(t);fetch(t.action,{method:"POST",body:l}).then((function(e){r("Успешно","Форма успешно отправлена.")})).catch((function(e){r("Ошибка","Возникла ошибка при отправкеформы. Попробуйте еще раз.")})),t.reset()}}))}))})();